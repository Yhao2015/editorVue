(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-241c842a"],{a55b:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"f_loginBg"},[s("div",{staticClass:"f_loinContent"},[s("a-row",[s("a-col",{attrs:{span:14}},[s("img",{attrs:{src:t("a88d"),width:"100%",height:"500"}})]),s("a-col",{attrs:{span:10}},[s("a-form",{staticClass:"f_loginForm",attrs:{form:e.form}},[s("div",{staticClass:"f_loginTitle"},[e._v("欢迎登陆")]),s("a-form-item",[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"请输入用户名！"}]}],expression:"['username',{ rules: [{ required: true, message: '请输入用户名！' }] }]"}],attrs:{placeholder:"用户名"}})],1),s("a-form-item",[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入密码！"}]}],expression:"['password',{ rules: [{ required: true, message: '请输入密码！' }] }]"}],attrs:{placeholder:"密码",type:"password"}})],1),s("a-form-item",[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["code",{rules:[{required:!0,message:"请输入验证码！"}]}],expression:"['code',{ rules: [{ required: true, message: '请输入验证码！' }] }]"}],staticClass:"f_codeInput",attrs:{placeholder:"验证码"}}),s("img",{attrs:{title:"点击更换验证码",id:"codeImg",alt:"验证码",src:"data:image/png;base64,"+e.codeImg},on:{click:e.changeCode}})],1),s("a-button",{staticClass:"marginB10",attrs:{type:"primary",block:"",size:"large",loading:e.isBtnLoading},on:{click:e.login}},[e._v("登录")]),s("a-button",{staticClass:"marginB10",attrs:{type:"primary",ghost:"",block:"",size:"large",loading:e.isBtnLoading},on:{click:e.login}},[e._v("注册")]),s("a",{staticClass:"pull-right",attrs:{href:"javascript:;"}},[e._v("密码重置")])],1)],1)],1)],1)])},r=[],o=(t("ac1f"),t("5319"),{data:function(){return{isBtnLoading:!1,codeImg:"",form:this.$form.createForm(this),securityCode:""}},mounted:function(){this.changeCode()},methods:{changeCode:function(){var e=this;this.$get("/securityCode").then((function(a){200==a.code&&(e.codeImg=a.data.imgBase64,e.codeToken=a.data.codeToken)}))},login:function(){var e=this;this.form.validateFields((function(a,t){a||e.$axios.post("/login",e.$qs.stringify({username:e.form.getFieldValue("username"),password:e.$md5(e.form.getFieldValue("password"))}),{headers:{codeToken:e.codeToken,securityCode:e.form.getFieldValue("code")}}).then((function(a){200==a.data.code?e.$router.push({name:"dishesList"}):(e.changeCode(),e.$router.replace("/login"))})).catch((function(e){console.log(e)}))}))}}}),i=o,n=t("2877"),c=Object(n["a"])(i,s,r,!1,null,"aeb3afce",null);a["default"]=c.exports},a88d:function(e,a,t){e.exports=t.p+"public/img/loginBg.cc90fe7d.png"}}]);